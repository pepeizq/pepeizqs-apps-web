@using BaseDatos
@using Microsoft.AspNetCore.Components.Web;
@using Listados
@using Microsoft.Data.SqlClient

<style>
	.boton-github {
		transition: transform .5s;
	}

		.boton-github:hover {
			transform: scale(1.01);
		}
</style>

<!-- #region Cabecera -->

@{
	string descripcion = Herramientas.Idiomas.BuscarTexto(idioma, "String1", proyecto.Id);
	string titulo = proyecto.Nombre + " • " + descripcion;
	string enlace = "https://pepeizqapps.com" + proyecto.Ubicacion;
	string icono = "https://pepeizqapps.com/imagenes/" + proyecto.Id + "/logo.webp";
}

<Seo idioma="@idioma" titulo="@titulo" descripcion="@descripcion" enlace="@enlace" icono="@icono" />

<!-- #endregion -->

<div style="background-color: @proyecto.Color1; display: flex; align-items: center;">
	@if (string.IsNullOrEmpty(proyecto.Enlace) == false)
	{
		<a href="@proyecto.Enlace" target="_blank">
			<img src="/imagenes/@proyecto.Id/logo.webp" style="width: 140px; height: 140px;" />
		</a>
	}
	else
	{
		<img src="/imagenes/@proyecto.Id/logo.webp" style="width: 140px; height: 140px;" />
	}

	<div style="padding: 20px 30px;">
		<div style="font-size: 22px;">@proyecto.Nombre</div>
		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String1", proyecto.Id)</div>

		@if (string.IsNullOrEmpty(proyecto.Enlace) == false)
		{
			<div style="margin-top: 10px;"><a href="@proyecto.Enlace" target="_blank" style="text-decoration: none; ">@proyecto.Enlace</a></div>
		}		
	</div>
</div>

<div style="background-color: @proyecto.Color2; overflow: hidden;">
	<a href="https://github.com/pepeizq/@proyecto.Github" target="_blank" style="text-decoration: none;">
		<div class="boton-github" style="background-color: #24292e; color: var(--colorTexto); display: flex; align-items: center; padding: 15px 25px;" title="@Herramientas.Idiomas.BuscarTexto(idioma, "String7", "Github")">
			<i class="fa-brands fa-github" style="font-size: 24px;"></i>

			<div style="width: 100%; padding-left: 20px; padding-right: 20px; font-size: 15px;">
				@Herramientas.Idiomas.BuscarTexto(idioma, "String1", "Github")
			</div>

			<div style="text-align: right; display: flex; align-items: center; font-size: 14px;">
				<div><i class="fa-solid fa-star"></i></div>
				<div style="padding-left: 10px;">@github.Estrellas</div>

				<div style="padding-left: 20px;"><i class="fa-solid fa-code-fork"></i></div>
				<div style="padding-left: 10px;">@github.Forks</div>

				<div style="padding-left: 20px;"><i class="fa-solid fa-eye"></i></div>
				<div style="padding-left: 10px;">@github.Suscriptores</div>
			</div>
		</div>
	</a>
</div>

<div style="background-color: @proyecto.Color1; padding: 50px;">
	<div>
		@Herramientas.Idiomas.BuscarTexto(idioma, "String2", proyecto.Id)
	</div>
	
	<div style="margin-top: 20px;">
		@Herramientas.Idiomas.BuscarTexto(idioma, "String3", proyecto.Id)
	</div>
</div>

<div style="background-color: @proyecto.Color2; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura1.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura1.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura4.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura4.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String4", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String5", proyecto.Id)</div>
	</div>
</div>

<div style="background-color: @proyecto.Color1; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura2.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura2.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura3.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura3.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String6", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String7", proyecto.Id)</div>
	</div>
</div>

<div style="background-color: @proyecto.Color2; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura5.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura5.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura6.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura6.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String8", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String9", proyecto.Id)</div>
	</div>
</div>

<div style="background-color: @proyecto.Color1; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura7.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura7.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura8.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura8.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String10", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String11", proyecto.Id)</div>
	</div>
</div>

<div style="background-color: @proyecto.Color2; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura9.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura9.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura10.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura10.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String12", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String13", proyecto.Id)</div>
	</div>
</div>

<div style="background-color: @proyecto.Color1; padding: 50px; display: flex; align-items: center;">
	<div style="display: flex; align-items: center; width: 55%; padding-right: 50px;">
		<a href="/imagenes/@proyecto.Id/captura11.webp" target="_blank" style="margin-right: 20px;">
			<img src="/imagenes/@proyecto.Id/captura11.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>

		<a href="/imagenes/@proyecto.Id/captura12.webp" target="_blank">
			<img src="/imagenes/@proyecto.Id/captura12.webp" class="expandir" style="width: 100%; border: 1px solid var(--colorEnlace);" />
		</a>
	</div>

	<div style="width: 55%;">
		<div style="font-size: 20px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String14", proyecto.Id)</div>

		<div style="margin-top: 10px;">@Herramientas.Idiomas.BuscarTexto(idioma, "String15", proyecto.Id)</div>
	</div>
</div>

@code {

	#nullable disable

	[Parameter]
	public string idioma { get; set; }

	private string id = "pepeizqdeals";

	SqlConnection conexion = new SqlConnection();

	private Proyecto proyecto = new Proyecto();
	private GithubBaseDatos github = new GithubBaseDatos();

	protected override void OnInitialized()
	{
		proyecto = global::Listados.Proyectos.DevolverProyecto(id);

		if (conexion.State != System.Data.ConnectionState.Open)
		{
			conexion = Herramientas.BaseDatos.Conectar();
		}

		using (conexion)
		{
			github = BaseDatos.Github.Buscar(conexion, proyecto.Github);
		}		
	}
}
